<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>XML catalog - Wikipedia</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"XML_catalog","wgTitle":"XML catalog","wgCurRevisionId":830381032,"wgRevisionId":830381032,"wgArticleId":17796438,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Use dmy dates from January 2013","Wikipedia articles with style issues from March 2018","All articles with style issues","Articles needing cleanup from March 2018","All pages needing cleanup","Articles containing how-to sections","Articles lacking sources from March 2018","All articles lacking sources","Articles with multiple maintenance issues","XML"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"XML_catalog","wgRelevantArticleId":17796438,"wgRequestId":"XML5XQpAMFgAAAdhwfkAAABC","wgCSPNonce":false,"wgIsProbablyEditable":true,"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgFlaggedRevsParams":{"tags":{}},"wgStableRevisionId":null,"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgPopupsReferencePreviews":false,"wgPopupsConflictsWithNavPopupGadget":false,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en","usePageImages":true,"usePageDescriptions":true},"wgMFDisplayWikibaseDescriptions":{"search":true,"nearby":true,"watchlist":true,"tagline":false},"wgRelatedArticles":null,"wgRelatedArticlesUseCirrusSearch":true,"wgRelatedArticlesOnlyUseCirrusSearch":false,"wgWMESchemaEditAttemptStepOversample":false,"wgPoweredByHHVM":true,"wgULSCurrentAutonym":"English","wgNoticeProject":"wikipedia","wgCentralNoticeCookiesToDelete":[],"wgCentralNoticeCategoriesUsingLegacy":["Fundraising","fundraising"],"wgWikibaseItemId":"Q2597555","wgCentralAuthMobileDomain":false,"wgEditSubmitButtonLabelPublish":true});mw.loader.state({"ext.gadget.charinsert-styles":"ready","ext.globalCssJs.user.styles":"ready","ext.globalCssJs.site.styles":"ready","site.styles":"ready","noscript":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","ext.globalCssJs.site":"ready","user":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","jquery.makeCollapsible.styles":"ready","wikibase.client.init":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.wikimediaBadges":"ready","ext.3d.styles":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.page.ready","jquery.makeCollapsible","mediawiki.searchSuggest","ext.gadget.teahouse","ext.gadget.ReferenceTooltips","ext.gadget.watchlist-notice","ext.gadget.DRN-wizard","ext.gadget.charinsert","ext.gadget.refToolbar","ext.gadget.extra-toolbar-buttons","ext.gadget.switcher","ext.centralauth.centralautologin","mmv.head","mmv.bootstrap.autostart","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.eventlogger","ext.uls.init","ext.uls.compactlinks","ext.uls.interface","ext.quicksurveys.init","ext.centralNotice.geoIP","ext.centralNotice.startUp","skins.vector.js"];mw.loader.load(RLPAGEMODULES);});</script>
<link href="/w/load.php?lang=en&amp;modules=ext.3d.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cjquery.makeCollapsible.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cskins.vector.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector" rel="stylesheet"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/w/load.php?lang=en&amp;modules=ext.gadget.charinsert-styles&amp;only=styles&amp;skin=vector" rel="stylesheet"/>
<link href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector" rel="stylesheet"/>
<meta content="MediaWiki 1.34.0-wmf.1" name="generator"/>
<meta content="origin" name="referrer"/>
<meta content="origin-when-crossorigin" name="referrer"/>
<meta content="origin-when-cross-origin" name="referrer"/>
<link href="android-app://org.wikipedia/http/en.m.wikipedia.org/wiki/XML_catalog" rel="alternate"/>
<link href="/w/index.php?title=XML_catalog&amp;action=edit" rel="alternate" title="Edit this page" type="application/x-wiki"/>
<link href="/w/index.php?title=XML_catalog&amp;action=edit" rel="edit" title="Edit this page"/>
<link href="/static/apple-touch/wikipedia.png" rel="apple-touch-icon"/>
<link href="/static/favicon/wikipedia.ico" rel="shortcut icon"/>
<link href="/w/opensearch_desc.php" rel="search" title="Wikipedia (en)" type="application/opensearchdescription+xml"/>
<link href="//en.wikipedia.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="//creativecommons.org/licenses/by-sa/3.0/" rel="license"/>
<link href="https://en.wikipedia.org/wiki/XML_catalog" rel="canonical"/>
<link href="//login.wikimedia.org" rel="dns-prefetch"/>
<link href="//meta.wikimedia.org" rel="dns-prefetch"/>
<!--[if lt IE 9]><script src="/w/load.php?lang=qqx&amp;modules=html5shiv&amp;only=scripts&amp;skin=fallback&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-XML_catalog rootpage-XML_catalog skin-vector action-view">
<div class="noprint" id="mw-page-base"></div>
<div class="noprint" id="mw-head-base"></div>
<div class="mw-body" id="content" role="main">

<div class="mw-body-content" id="siteNotice"><!-- CentralNotice --></div>
<div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading" id="firstHeading" lang="en">XML catalog</h1>
<div class="mw-body-content" id="bodyContent">
<div class="noprint" id="siteSub">From Wikipedia, the free encyclopedia</div>
<div id="contentSub"></div>
<div id="jump-to-nav"></div>
Jump to navigation
Jump to search
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p class="mw-empty-elt">
<span style="border: 3px solid blue; color:blue;font-weight: bold">1</span></p>
<table class="box-Multiple_issues plainlinks metadata ambox ambox-content ambox-multiple_issues compact-ambox" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" data-file-height="40" data-file-width="40" decoding="async" height="40" src="//upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/40px-Ambox_important.svg.png" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/60px-Ambox_important.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/80px-Ambox_important.svg.png 2x" width="40"/></div></td><td class="mbox-text"><div class="mbox-text-span"><div class="mw-collapsible" style="width:95%; margin: 0.2em 0;"><b>This article has multiple issues.</b> Please help <b>improve it</b> or discuss these issues on the <b>talk page</b>. <small><i>(Learn how and when to remove these template messages)</i></small>
<div class="mw-collapsible-content" style="margin-top: 0.3em;">
<table class="box-Inappropriate_person plainlinks metadata ambox ambox-style ambox-inappropriate-person" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" data-file-height="48" data-file-width="48" decoding="async" height="40" src="//upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/40px-Edit-clear.svg.png" srcset="//upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/60px-Edit-clear.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/80px-Edit-clear.svg.png 2x" width="40"/></div></td><td class="mbox-text"><div class="mbox-text-span">This article <b>uses second-person ("you") inappropriately</b>.<span class="hide-when-compact"> Please rewrite it to use a more formal, encyclopedic tone.</span> <small class="date-container"><i>(<span class="date">March 2018</span>)</i></small><small class="hide-when-compact"><i> (Learn how and when to remove this template message)</i></small></div></td></tr></tbody></table>
<table class="box-Howto plainlinks metadata ambox ambox-content" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" data-file-height="40" data-file-width="40" decoding="async" height="40" src="//upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/40px-Ambox_important.svg.png" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/60px-Ambox_important.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/80px-Ambox_important.svg.png 2x" width="40"/></div></td><td class="mbox-text"><div class="mbox-text-span">This article <b>contains instructions, advice, or how-to content</b>.<span class="hide-when-compact"> The purpose of Wikipedia is to present facts, not to train. Please help improve this article either by rewriting the how-to content or by moving it to Wikiversity, Wikibooks or Wikivoyage.</span> <small class="date-container"><i>(<span class="date">March 2018</span>)</i></small></div></td></tr></tbody></table>
<table class="box-Unreferenced plainlinks metadata ambox ambox-content ambox-Unreferenced" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" data-file-height="399" data-file-width="512" decoding="async" height="39" src="//upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/50px-Question_book-new.svg.png" srcset="//upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/75px-Question_book-new.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/9/99/Question_book-new.svg/100px-Question_book-new.svg.png 2x" width="50"/></div></td><td class="mbox-text"><div class="mbox-text-span">This article <b>does not cite any sources</b>.<span class="hide-when-compact"> Please help improve this article by adding citations to reliable sources. Unsourced material may be challenged and removed.</span> <small class="date-container"><i>(<span class="date">March 2018</span>)</i></small><small class="hide-when-compact"><i> (Learn how and when to remove this template message)</i></small></div></td></tr></tbody></table>
</div>
</div><small class="hide-when-compact"><i> (Learn how and when to remove this template message)</i></small></div></td></tr></tbody></table>
<p>XML documents typically refer to external entities, for example the public and/or system ID for the Document Type Definition. These external relationships are expressed using URIs, typically as URLs.
<span style="border: 3px solid blue; color:blue;font-weight: bold">2</span></p><p>However, if they are absolute URLs, they only work when your network can reach them. Relying on remote resources makes XML processing susceptible to both planned and unplanned network downtime.
<span style="border: 3px solid blue; color:blue;font-weight: bold">3</span></p><p>Conversely, if they are relative URLs, they're only useful in the context where they were initially created. For example, the URL "../../xml/dtd/docbookx.xml" will usually only be useful in very limited circumstances.
<span style="border: 3px solid blue; color:blue;font-weight: bold">4</span></p><p>One way to avoid these problems is to use an entity resolver (a standard part of SAX) or a URI Resolver (a standard part of JAXP). A resolver can examine the URIs of the resources being requested and determine how best to satisfy those requests. The <b>XML catalog</b> is a document describing a mapping between external entity references and locally cached equivalents.
<span style="border: 3px solid blue; color:blue;font-weight: bold">5</span></p>
<h2><span class="mw-headline" id="Example_Catalog.xml">Example Catalog.xml</span></h2>
<p>The following simple catalog shows how one might provide locally cached DTDs for an XHTML page validation tool, for example.
<span style="border: 3px solid blue; color:blue;font-weight: bold">6</span></p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span> 
  <span class="cp">&lt;?xml version="1.0"?&gt;</span>
  <span class="cp">&lt;!DOCTYPE catalog</span>
<span class="cp">    PUBLIC "-//OASIS//DTD Entity Resolution XML Catalog V1.0//EN"</span>
<span class="cp">           "http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd"&gt;</span>

  <span class="nt">&lt;catalog</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:entity:xmlns:xml:catalog"</span>
           <span class="na">prefer=</span><span class="s">"public"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;public</span> <span class="na">publicId=</span><span class="s">"-//W3C//DTD XHTML 1.0 Strict//EN"</span>
            <span class="na">uri=</span><span class="s">"dtd/xhtml1/xhtml1-strict.dtd"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;public</span> <span class="na">publicId=</span><span class="s">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span>
            <span class="na">uri=</span><span class="s">"dtd/xhtml1/xhtml1-transitional.dtd"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;public</span> <span class="na">publicId=</span><span class="s">"-//W3C//DTD XHTML 1.1//EN"</span>
            <span class="na">uri=</span><span class="s">"dtd/xhtml11/xhtml11-flat.dtd"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;/catalog&gt;</span>
</pre></div>
<p>This catalog makes it possible to resolve <tt>-//W3C//DTD XHTML 1.0 Strict//EN</tt> to the local URI <tt>dtd/xhtml1/xhtml1-strict.dtd</tt>. Similarly, it provides local URIs for two other public IDs.
<span style="border: 3px solid blue; color:blue;font-weight: bold">7</span></p><p>Note that the document above includes a DOCTYPE - this may cause the parser to attempt to access the system ID URL for the DOCTYPE (i.e. <tt>http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd</tt>) before the catalog resolver is fully functioning, which is probably undesirable. To prevent this, simply remove the DOCTYPE declaration.
<span style="border: 3px solid blue; color:blue;font-weight: bold">8</span></p><p>The following example shows this, and also shows the equivalent <tt>&lt;system/&gt;</tt> declarations as an alternative to <tt>&lt;public/&gt;</tt> declarations.
<span style="border: 3px solid blue; color:blue;font-weight: bold">9</span></p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>  <span class="cp">&lt;?xml version="1.0"?&gt;</span>
  <span class="nt">&lt;catalog</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:entity:xmlns:xml:catalog"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;system</span> <span class="na">systemId=</span><span class="s">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"</span>
            <span class="na">uri=</span><span class="s">"dtd/xhtml1/xhtml1-strict.dtd"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;system</span> <span class="na">systemId=</span><span class="s">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span>
            <span class="na">uri=</span><span class="s">"dtd/xhtml1/xhtml1-transitional.dtd"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;system</span> <span class="na">systemId=</span><span class="s">"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"</span>
            <span class="na">uri=</span><span class="s">"dtd/xhtml11/xhtml11-flat.dtd"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;/catalog&gt;</span>
</pre></div>
<h2><span class="mw-headline" id="Using_a_catalog_-_Java_SAX_example">Using a catalog - Java SAX example</span></h2>
<p>Catalog resolvers are available for various programming languages. The following example shows how, in Java, a SAX parser may be created to parse some input source in which the <tt>org.apache.xml.resolver.tools.CatalogResolver</tt> is used to resolve external entities to locally cached instances. This resolver originates from Apache Xerces but is now included with the Sun Java runtime.
<span style="border: 3px solid blue; color:blue;font-weight: bold">10</span></p><p>Simply create a <tt>SAXParser</tt> in the normal way, using factories. Obtain the XML reader and set the entity resolver to the standard one (<tt>CatalogResolver</tt>) or another of your own.
<span style="border: 3px solid blue; color:blue;font-weight: bold">11</span></p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>  <span class="kd">final</span> <span class="n">SAXParser</span> <span class="n">saxParser</span> <span class="o">=</span> <span class="n">SAXParserFactory</span><span class="o">.</span><span class="na">newInstance</span><span class="o">().</span><span class="na">newSAXParser</span><span class="o">();</span>
  <span class="kd">final</span> <span class="n">XMLReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="n">saxParser</span><span class="o">.</span><span class="na">getXMLReader</span><span class="o">();</span>

  <span class="kd">final</span> <span class="n">ContentHandler</span> <span class="n">handler</span> <span class="o">=</span> <span class="o">...;</span>
  <span class="kd">final</span> <span class="n">InputSource</span> <span class="n">input</span> <span class="o">=</span> <span class="o">...;</span>

  <span class="n">reader</span><span class="o">.</span><span class="na">setEntityResolver</span><span class="o">(</span> <span class="k">new</span> <span class="n">CatalogResolver</span><span class="o">()</span> <span class="o">);</span>
  <span class="n">reader</span><span class="o">.</span><span class="na">setContentHandler</span><span class="o">(</span> <span class="n">handler</span> <span class="o">);</span>
  <span class="n">reader</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span> <span class="n">input</span> <span class="o">);</span>
</pre></div>
<p>It is important to call the <tt>parse</tt> method on the reader, <i>not</i> on the SAX parser.
<span style="border: 3px solid blue; color:blue;font-weight: bold">12</span></p>
<script>function offsetAnchor() {if(location.hash.length !== 0) {window.scrollTo(window.scrollX, window.scrollY - 250);}}window.addEventListener("hashchange", offsetAnchor);window.setTimeout(offsetAnchor, 1);</script>